<!DOCTYPE html>
<html data-wf-page="67ed810f3c1d35674c3882b0" data-wf-site="67ed810f3c1d35674c38828b">
<head>
  <meta charset="utf-8">
  <title>Julia&#x27;s Amazing Site</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/julias-amazing-site-69a804.webflow.css" rel="stylesheet" type="text/css">
  <script type="text/javascript">
    !function(o,c){
      var n=c.documentElement,t=" w-mod-";
      n.className+=t+"js",
      ("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")
    }(window,document);
  </script>
  <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
</head>
<body>
  <section></section>
<!-- HERO SECTION -->
<div style="width: 100%; padding: 80px 20px; background: #f0f0f0; text-align: center;">
  <h1 style="margin: 0;">Welcome to Showroom8</h1>
  <p>
    Want to showcase your own room?
    <a href="https://tally.so/r/mVND0J" style="color: blue; text-decoration: underline;">Click here to register</a>
  </p>
</div>

  <div class="w-layout-blockcontainer w-container">
    <div class="div-block">
      <div class="div-block-2"><div></div></div>
      <div class="div-block-3" id="wall">
        <!-- Row 1 (manually placed in CSS) -->
        <div class="window1">
          <iframe src="showroom.html?room=room001" id="preview-room001" allowfullscreen></iframe>
        </div>
        <div class="window2">
          <iframe src="showroom.html?room=room002" id="preview-room002" allowfullscreen></iframe>
        </div>
        <div class="window3">
          <iframe src="showroom.html?room=room003" id="preview-room003" allowfullscreen></iframe>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=67ed810f3c1d35674c38828b" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>

  <!-- âœ… Dynamic window duplication + fullscreen logic -->
  <script>
    function activateFullscreen(iframeId) {
      const iframe = document.getElementById(iframeId);
      if (!iframe) return;
  
      if (iframe.requestFullscreen) {
        iframe.requestFullscreen();
      } else if (iframe.webkitRequestFullscreen) {
        iframe.webkitRequestFullscreen();
      } else if (iframe.msRequestFullscreen) {
        iframe.msRequestFullscreen();
      }
  
      iframe.contentWindow.postMessage({ start: true }, "*");
    }
  
    window.addEventListener("DOMContentLoaded", () => {
      const wall = document.getElementById("wall");
  
      // Get positions of first 3 windows
      const referenceWindows = [
        document.querySelector(".window1"),
        document.querySelector(".window2"),
        document.querySelector(".window3")
      ];
  
      const baseTop = referenceWindows[0].offsetTop;
      const rowOffset = 300;
  
      const lefts = referenceWindows.map(win => {
        return window.getComputedStyle(win).left;
      });
  
      const width = window.getComputedStyle(referenceWindows[0]).width;
      const height = window.getComputedStyle(referenceWindows[0]).height;
  
      fetch('rooms.json')
        .then(res => res.json())
        .then(data => {
          data.forEach((room, i) => {
            if (i < 3) return; // Skip first 3 since they're already placed
  
            const row = Math.floor(i / 3);
            const col = i % 3;
  
            const newWindow = document.createElement("div");
            newWindow.className = `window${i + 1}`;
            newWindow.style.position = "absolute";
            newWindow.style.top = `${baseTop + row * rowOffset}px`;
            newWindow.style.left = lefts[col];
            newWindow.style.width = width;
            newWindow.style.height = height;
  
            const iframe = document.createElement("iframe");
            iframe.src = `showroom.html?room=${room.id}`;
            iframe.id = `preview-${room.id}`;
            iframe.allowFullscreen = true;
            iframe.style.width = "100%";
            iframe.style.height = "100%";
            iframe.style.border = "none";
  
            newWindow.appendChild(iframe);
            wall.appendChild(newWindow);
  
            newWindow.addEventListener("click", () => {
              activateFullscreen(iframe.id);
            });
          });
  
          // Attach fullscreen to the first 3 windows
          for (let i = 1; i <= 3; i++) {
            const win = document.querySelector(`.window${i}`);
            if (win) {
              win.addEventListener("click", () =>
                activateFullscreen(`preview-room00${i}`)
              );
            }
          }
  
          // Adjust wall height after all are added
          growWallToFitWindows();
        })
        .catch(err => console.error("Error loading rooms.json:", err));
    });
  </script>
  
  
<!-- ... other HTML above -->

<script>
  function growWallToFitWindows() {
    const wall = document.querySelector('.div-block-3');
    const allWindows = wall.querySelectorAll('[class^="window"]');
    let maxBottom = 0;
    allWindows.forEach(win => {
      const bottom = win.offsetTop + win.offsetHeight;
      if (bottom > maxBottom) maxBottom = bottom;
    });
    wall.style.height = `${maxBottom + 350}px`;
  }

  // Call the function AFTER all the windows are added
  growWallToFitWindows();
</script>

</body>
</html>

</body>
</html>
